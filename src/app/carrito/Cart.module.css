/* === MEJORAS VISUALES PRO PARA EL CARRITO — SOLO AGREGAR === */

/* Header más respirado y adaptable */
.header {
  align-items: end;
}
.title {
  letter-spacing: .2px;
  line-height: 1.25;
}

/* Tarjetas con profundidad suave y bordes más limpios */
.card {
  border-color: #e6e8ec;
  background: #fff;
  box-shadow: 0 10px 28px rgba(15,23,42,.06);
}
.cardDotted {
  background: #fff;
  box-shadow: 0 6px 20px rgba(15,23,42,.05);
}

/* Inputs: foco accesible y aspecto más premium */
.input {
  border-color: #e3e5ea;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.input:focus,
.input:focus-visible {
  border-color: #111;
  box-shadow: 0 0 0 3px rgba(17,17,17,.08);
}

/* Botones con micro-interacciones elegantes */
.btn,
.btnDanger,
.btnPrimary {
  letter-spacing: .1px;
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
}
.btn:active,
.btnDanger:active,
.btnPrimary:active {
  transform: translateY(0);
  box-shadow: 0 0 0 rgba(0,0,0,0);
}
.btnPrimary {
  background: linear-gradient(180deg, #141414, #0e0e0e);
  border-color: #0e0e0e;
  color: #fff;
}
.btnPrimary:hover {
  background: linear-gradient(180deg, #171717, #0f0f0f);
}
.btnDanger:hover {
  background: #fff5f5;
  border-color: #e19b9b;
}

/* Lista de ítems con layout más claro y toques de hover */
.items {
  gap: 16px;
}
.item {
  border-color: #e6e8ec;
  box-shadow: 0 6px 18px rgba(15,23,42,.05);
  transition: transform .12s ease, box-shadow .15s ease, border-color .15s ease;
}
.item:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 30px rgba(15,23,42,.08);
  border-color: #dee1e7;
}

/* Controles de cada ítem: mejor alineación en mobile */
.itemControls {
  gap: 10px;
}
.inputSm {
  width: 88px; /* un pelín más cómodo */
}

/* Badges más refinados */
.badgeOk {
  background: #e9fbf0;
  color: #0f6a32;
  border: 1px solid #cfeede;
}
.badgeWarn {
  background: #fff1f1;
  color: #b00020;
  border: 1px solid #f3c7c7;
}

/* Formularios de cabecera (agregar/toolbar) más flexibles */
.addForm {
  align-items: center;
}
.toolbar {
  flex-wrap: wrap;
}

/* Grids utilitarias (ya usas .grid2 / .grid3 en JSX) */
.grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.grid3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }

/* ======= RESPONSIVE FINO ======= */

/* iPhone SE antiguo (≤320px) */
@media (max-width: 320px) {
  .title { font-size: 20px; }
  .btn, .btnDanger, .btnPrimary { padding: 8px 10px; font-size: 13.5px; }
  .addForm { grid-template-columns: 1fr; }
  .grid2, .grid3 { grid-template-columns: 1fr; }
  .item { grid-template-columns: 1fr; }
  .inputSm { width: 76px; }
}

/* iPhone SE / 8 / 11 Pro (≤375px) */
@media (max-width: 375px) {
  .addForm { grid-template-columns: 1fr; }
  .btn, .btnDanger, .btnPrimary { padding: 9px 12px; font-size: 14px; }
  .grid2, .grid3 { grid-template-columns: 1fr; }
  .item { grid-template-columns: 1fr; }
}

/* iPhone 12 / 14 (≤390px) */
@media (max-width: 390px) {
  .title { font-size: 22px; }
  .addForm { grid-template-columns: 1fr 1fr; }
  .addForm > :last-child { grid-column: 1 / -1; } /* botón ocupa el ancho */
  .item { grid-template-columns: 1fr; }
}

/* iPhone Plus / Android medianos (≤430px) — mantengo tu breakpoint y lo mejoro */
@media (max-width: 430px) {
  .addForm { grid-template-columns: 1fr 1fr; }
  .addForm > :nth-last-child(1) { grid-column: 1 / -1; }
  .item { grid-template-columns: 1fr; }
}

/* Portátiles y desktop medianos: respirar mejor los formularios */
@media (min-width: 768px) {
  .addForm { grid-template-columns: minmax(220px,1.2fr) 90px 120px 140px auto; }
  .item { grid-template-columns: 1fr auto; }
}

/* Reduce motion para accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .btn, .btnDanger, .btnPrimary,
  .item, .input {
    transition: none;
  }
}

/* ===== FIX MOBILE: evitar cortes en iPhone SE/12/14 ===== */

/* Los hijos de grids pueden contraerse (evita overflow por min-content) */
.addForm > *,
.toolbar > *,
.grid2 > *,
.grid3 > *,
.itemControls > * {
  min-width: 0;
}

/* Input/select con foco premium se queda */
.input,
.itemControls select {
  max-width: 100%;
}

/* Botones con texto largo: permitir múltiples líneas */
.btn,
.btnDanger,
.btnPrimary {
  white-space: normal;
  line-height: 1.15;
  text-align: center;
}

/* --- iPhone SE / móviles estrechos --- */
@media (max-width: 390px) {
  /* La fila de “agregar al carrito de prueba” se apila y cada control ocupa 100% */
  .addForm {
    grid-template-columns: 1fr 1fr;
  }
  .addForm > :last-child { grid-column: 1 / -1; } /* botón ocupa ancho completo */

  /* Forzar 100% en los controles que tenían width fijo inline */
  .addForm input,
  .addForm select,
  .addForm button {
    width: 100% !important;
  }

  /* Toolbars (cupón, validar, etc.) */
  .toolbar { gap: 8px; }
  .toolbar form { width: 100%; display: grid; grid-template-columns: 1fr auto; gap: 8px; }
  .toolbar input { width: 100% !important; }
  .toolbar button { width: 100%; grid-column: 1 / -1; } /* botón abajo en SE */

  /* Controles dentro de cada item: todo fluye a 100% */
  .item { grid-template-columns: 1fr; }
  .itemControls { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .itemControls label { grid-column: 1 / -1; } /* Cant. y Talle en filas separadas */
  .itemControls input,
  .itemControls select { width: 100% !important; }
  .inputSm { width: 100% !important; }

  /* Formularios de “Información de contacto y entrega” */
  .grid2, .grid3 { grid-template-columns: 1fr !important; }
  .card input,
  .card select,
  .card button {
    width: 100% !important;
  }

  /* Contenedores con contenido variado no causan overflow horizontal */
  .card, .items, .item, .toolbar, .addForm { overflow: hidden; }
}

/* --- iPhone Plus / 12 / 14 (≤430px) --- */
@media (max-width: 430px) {
  .addForm { grid-template-columns: 1fr 1fr; }
  .addForm > :nth-last-child(1) { grid-column: 1 / -1; }

  /* Botones grandes de CTAs (checkout/MP) a ancho completo si hay poco espacio */
  .card .btnPrimary { width: 100%; }
}

/* --- Desktop medio en adelante: respiración sin desbordes --- */
@media (min-width: 768px) {
  .addForm { grid-template-columns: minmax(220px,1.2fr) 90px 120px 140px auto; }
  .item { grid-template-columns: 1fr auto; }
}
